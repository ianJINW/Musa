<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Musa Music</title>
    <link rel="stylesheet" href="Musa.css" />
    <link rel="shortcut icon" href="assets/wp1989836.jpg" type="image/jpg" />
  </head>

  <body>
    <div class="header">
      <h1><em>Musa Music</em></h1>
    </div>
    <main class="container">
      <div class="music-player">
        <figure>
          <img src="assets/Stylish_dp-1352.jpg" alt="Musa" />
          <figcaption>
            <h3>Lifetime</h3>
            <br />
            <p class="name"></p>
          </figcaption>
        </figure>
        <audio id="song">
          <source
            class="src"
            src="assets/_Lifetime__Lyric_Video___Season_2___STAR(128k).m4a"
          />
        </audio>
        <label for="seeker" title="seek">
          <input type="range" id="progress" value="0" />
        </label>
        <div class="controls">
          <section><i class="fas fa-play" onclick="PlayPause()"></i></section>
        </div>
      </div>
    </main>
    <script
      src="https://kit.fontawesome.com/7e991d640e.js"
      crossorigin="anonymous"
    ></script>
    <script src="Musa.js"></script>
    <script>
      let progress = document.querySelector('#progress')
      let song = document.querySelector('#song')
      let cIcon = document.querySelector('i')
      let src = document.querySelector('.src').getAttribute('src')

      function PlayPause() {
        if (cIcon.getAttribute('class') === 'fas fa-pause') {
          song.pause()
          cIcon.setAttribute('class', 'fas fa-play')
        } else {
          song.play()
          cIcon.setAttribute('class', 'fas fa-pause')
        }
      }
      let ame = document.querySelector('.name')
      ame.innerText = src

      progress.max = song.duration
      progress.value = song.currentTime

      if (song.play) {
        setInterval(() => {
          progress.value = song.currentTime
        }, 5)
      }

      progress.oninput = function () {
        song.currentTime = progress.value
        if (song.paused) {
          PlayPause()
        }
      }
    </script>
  </body>
</html>
